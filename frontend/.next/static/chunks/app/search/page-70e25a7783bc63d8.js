(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{1350:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var s=t(5155),a=t(2115),l=t(5695),n=t(7457),o=t(8338),d=t(6766);function c(e){let{className:r="",...t}=e;return(0,s.jsx)("div",{className:"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border border-border p-6 shadow-sm ".concat(r),...t})}function i(e){let{podcast:r}=e;return(0,s.jsx)("div",{className:"group cursor-pointer",children:(0,s.jsxs)(c,{className:"p-2 sm:p-3 hover:border-primary/50 transition-all duration-200 hover:shadow-lg",children:[(0,s.jsx)("div",{className:"relative aspect-square mb-2 overflow-hidden rounded-md",children:(0,s.jsx)(d.default,{src:r.artworkUrl600,alt:r.collectionName,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-200",sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw"})}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("h3",{className:"font-semibold text-xs leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:r.collectionName}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs line-clamp-1",children:r.artistName}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:(0,s.jsx)("span",{className:"inline-block px-1.5 py-0.5 bg-muted text-muted-foreground text-xs rounded-full",children:r.primaryGenreName})})]})]})})}let m="http://104.251.216.212:3001",h=async e=>{try{let r=await fetch("".concat(m,"/podcasts/search?term=").concat(encodeURIComponent(e)));if(!r.ok)throw Error("Error: ".concat(r.status));return await r.json()}catch(e){return console.error("Error searching podcasts:",e),{resultCount:0,results:[],source:"api"}}},x=async()=>{try{let e=await fetch("".concat(m,"/podcasts/all"));if(!e.ok)throw Error("Error: ".concat(e.status));return await e.json()}catch(e){return console.error("Error fetching all podcasts:",e),{resultCount:0,results:[],source:"database"}}},u=async()=>{try{let e=await fetch("".concat(m,"/podcasts/clear"),{method:"DELETE"});if(!e.ok)throw Error("Error: ".concat(e.status));return await e.json()}catch(e){return console.error("Error clearing database:",e),{success:!1,message:e instanceof Error?e.message:"Unknown error occurred"}}};function b(e){let{query:r}=e,[t,l]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[m,x]=(0,a.useState)(1);(0,a.useEffect)(()=>{(async()=>{if(!r||0===r.trim().length)return l([]);o(!0),c(null),x(1);try{let e=await h(r);l(e.results)}catch(e){console.error("Error fetching search results:",e),c("Failed to fetch search results. Please try again."),l([])}finally{o(!1)}})()},[r]);let u=t.length>0;if(n)return(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg mb-2",children:"جاري البحث..."})});if(d)return(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg mb-2 text-red-500",children:d})});if(!u&&r.trim().length>0)return(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-muted-foreground text-lg mb-2",children:"لا توجد نتائج"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"جرب البحث بكلمات مختلفة"})]});if(!r||0===r.trim().length)return(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg mb-2",children:"ابدأ البحث عن البودكاست المفضل لديك"})});let b=Math.ceil(t.length/10),g=(m-1)*10,p=g+10,f=t.slice(g,p);return(0,s.jsx)("div",{className:"space-y-8 sm:space-y-12",children:t.length>0&&(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,s.jsxs)("h2",{className:"text-lg sm:text-xl font-bold text-foreground",children:['نتائج البحث لـ "',r,'"']}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t.length," نتيجة"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6",children:f.map(e=>(0,s.jsx)("div",{className:"group",children:(0,s.jsx)(i,{podcast:e})},e.collectionId||e.id))}),b>1&&(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-8",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["عرض ",g+1,"-",Math.min(p,t.length)," من ",t.length," نتيجة"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{x(e=>Math.max(e-1,1))},disabled:1===m,className:"px-4 py-2 bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-105 text-foreground rounded-lg text-sm font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none",children:"السابق"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:b},(e,r)=>r+1).map(e=>(0,s.jsx)("button",{onClick:()=>x(e),className:"w-10 h-10 rounded-lg text-sm font-medium transition-all duration-300 ".concat(e===m?"bg-primary text-primary-foreground shadow-lg scale-110":"bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-110 text-foreground"),children:e},e))}),(0,s.jsx)("button",{onClick:()=>{x(e=>Math.min(e+1,b))},disabled:m===b,className:"px-4 py-2 bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-105 text-foreground rounded-lg text-sm font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none",children:"التالي"})]})]})]})})}function g(e){let{podcasts:r}=e,[t,l]=(0,a.useState)(1),n=Math.ceil(r.length/10),o=(t-1)*10,d=o+10,c=r.slice(o,d);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6",children:c.map(e=>(0,s.jsx)("div",{className:"group",children:(0,s.jsx)(i,{podcast:e})},e.collectionId||e.id))}),n>1&&(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-8",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["عرض ",o+1,"-",Math.min(d,r.length)," من ",r.length," بودكاست"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{l(e=>Math.max(e-1,1))},disabled:1===t,className:"px-4 py-2 bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-105 text-foreground rounded-lg text-sm font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none",children:"السابق"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:n},(e,r)=>r+1).map(e=>(0,s.jsx)("button",{onClick:()=>l(e),className:"w-10 h-10 rounded-lg text-sm font-medium transition-all duration-300 ".concat(e===t?"bg-primary text-primary-foreground shadow-lg scale-110":"bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-110 text-foreground"),children:e},e))}),(0,s.jsx)("button",{onClick:()=>{l(e=>Math.min(e+1,n))},disabled:t===n,className:"px-4 py-2 bg-muted hover:bg-muted/60 hover:shadow-md hover:scale-105 text-foreground rounded-lg text-sm font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none",children:"التالي"})]})]})]})}function p(){let e=(0,l.useSearchParams)().get("q")||"",[r,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[i,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),f=async()=>{try{o(!0);let e=await x();t(e.results),c(null)}catch(e){console.error("Error fetching podcasts:",e),c("Failed to load podcasts. Please try again later.")}finally{o(!1)}};(0,a.useEffect)(()=>{e||f()},[e]);let j=async()=>{try{m(!0),p(null);let e=await u();e.success?(p("تم حذف النتائج بنجاح. ".concat(e.affected?"تم حذف ".concat(e.affected," سجل."):"")),f()):p("فشل حذف النتائج: ".concat(e.message))}catch(e){console.error("Error clearing database:",e),p("حدث خطأ أثناء محاولة حذف النتائج.")}finally{m(!1)}};return(0,s.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 max-w-7xl mx-auto",children:e?(0,s.jsx)(b,{query:e}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"اكتشف البودكاست المفضل لديك"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6 sm:mb-8 text-sm sm:text-base max-w-2xl mx-auto",children:"ابحث في آلاف البودكاست العربية والعالمية واكتشف محتوى جديد يناسب اهتماماتك"})]}),n?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل البودكاست..."})}):d?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-red-500",children:d})}):0===r.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:"لا توجد بودكاست متاحة حالياً"})}):(0,s.jsx)("div",{className:"space-y-8",children:(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"النتائج الأخيرة لعمليات البحث"}),(0,s.jsx)("button",{onClick:j,disabled:i,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"جاري الحذف...":"حذف نتائج البحث"})]}),h&&(0,s.jsx)("div",{className:"p-3 mb-4 rounded-md text-sm ".concat(h.includes("بنجاح")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:h}),(0,s.jsx)(g,{podcasts:r})]})})]})})}function f(){let e=(0,l.useSearchParams)().get("q")||"";return(0,s.jsx)(o.SearchBar,{initialQuery:e})}function j(){let[e,r]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(n.Sidebar,{isOpen:e,onClose:()=>r(!1)}),(0,s.jsxs)("main",{className:"md:mr-64 min-h-screen",children:[(0,s.jsx)("header",{className:"sticky top-0 bg-background/80 backdrop-blur-sm border-b border-border z-10",children:(0,s.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 relative max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"md:hidden absolute right-4 top-1/2 -translate-y-1/2",children:(0,s.jsx)(n.W,{isOpen:e,onClick:()=>r(!e)})}),(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:"جاري التحميل..."}),children:(0,s.jsx)(f,{})})]})}),(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 max-w-7xl mx-auto text-center",children:"جاري التحميل..."}),children:(0,s.jsx)(p,{})})]})]})}},3361:(e,r,t)=>{Promise.resolve().then(t.bind(t,1350))},7457:(e,r,t)=>{"use strict";t.d(r,{W:()=>b,Sidebar:()=>g});var s=t(5155),a=t(2115),l=t(6874),n=t.n(l),o=t(5695);function d(e){let{href:r,label:t,icon:a,onClose:l}=e,d=(0,o.usePathname)()===r;return(0,s.jsxs)(n(),{href:r,onClick:l,className:"\n        flex items-center gap-3 px-6 py-4 rounded-xl text-base font-medium transition-all duration-300 group\n        border border-transparent backdrop-blur-sm\n        ".concat(d?"bg-[#3b82f6] text-white shadow-lg border-[#3b82f6]/20":"text-gray-300 hover:text-white hover:bg-[#1e1f30]/60 hover:border-[#2a2b3d]/50 hover:shadow-md","\n      "),children:[(0,s.jsx)("div",{className:"transition-transform duration-300 ".concat(d?"scale-110":"group-hover:scale-105"),children:a}),(0,s.jsx)("span",{className:"transition-all duration-300",children:t})]})}var c=t(7340),i=t(7924),m=t(9099),h=t(2894),x=t(556);let u=[{href:"/",label:"الرئيسية",icon:(0,s.jsx)(c.A,{className:"w-5 h-5"})},{href:"/search",label:"بحث",icon:(0,s.jsx)(i.A,{className:"w-5 h-5"})}];function b(e){let{isOpen:r,onClick:t}=e;return(0,s.jsx)("button",{onClick:t,className:"p-3 rounded-lg bg-[#1e1f30] border border-[#2a2b3d] hover:bg-[#2a2b3d] transition-colors shadow-lg","aria-label":r?"إغلاق القائمة":"فتح القائمة",children:(0,s.jsxs)("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[(0,s.jsx)("span",{className:"block h-0.5 w-5 bg-white transition-all duration-300 mb-1 ".concat(r?"rotate-45 translate-y-1.5":"")}),(0,s.jsx)("span",{className:"block h-0.5 w-5 bg-white transition-all duration-300 mb-1 ".concat(r?"opacity-0":"")}),(0,s.jsx)("span",{className:"block h-0.5 w-5 bg-white transition-all duration-300 ".concat(r?"-rotate-45 -translate-y-1.5":"")})]})})}function g(e){let{isOpen:r=!1,onClose:t}=e;return(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r&&t&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm ".concat(r?"opacity-100 visible":"opacity-0 invisible"," transition-all duration-300 ease-in-out z-40 md:hidden"),onClick:t,"aria-hidden":"true"}),(0,s.jsx)("aside",{className:"fixed right-0 top-0 h-screen w-64 bg-[#141523]/90 backdrop-blur-md border-l border-[#2a2b3d]/50 flex-col hidden md:flex shadow-2xl",children:(0,s.jsx)(p,{})}),(0,s.jsx)("aside",{className:"fixed top-0 right-0 z-50 w-72 h-screen flex-shrink-0 \n          bg-[#141523]/95 backdrop-blur-md \n          border-l border-[#2a2b3d]/50 \n          flex flex-col transition-all duration-300 ease-out\n          shadow-2xl overflow-y-auto md:hidden\n          ".concat(r?"translate-x-0 opacity-100 scale-x-100":"translate-x-full opacity-0 scale-x-95"),children:(0,s.jsx)(p,{onClose:t})})]})}function p(e){let{onClose:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-6 border-b border-[#2a2b3d]/30 flex justify-center",children:(0,s.jsx)(n(),{href:"/",className:"group",onClick:r,children:(0,s.jsx)("div",{className:"w-24 h-24 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:(0,s.jsx)("img",{src:"/logoW.png",alt:"Octopod Logo",className:"w-full h-full object-contain"})})})}),(0,s.jsx)("nav",{className:"flex-1 p-4 pt-8",children:(0,s.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,s.jsx)(d,{href:e.href,label:e.label,icon:e.icon,onClose:r},e.href))})}),(0,s.jsx)("div",{className:"mt-auto p-4",children:(0,s.jsx)("div",{className:"text-center p-4 rounded-xl bg-[#1e1f30]/80 backdrop-blur-lg shadow-lg border border-[#2a2b3d]/50 transition-all duration-300",children:(0,s.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,s.jsx)("a",{href:"https://github.com/thmanyah",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center bg-[#2a2b3d]/80 backdrop-blur-sm shadow-lg border border-[#3a3b4d]/50 text-gray-300 hover:text-white hover:bg-[#3a3b4d] hover:scale-110 hover:shadow-xl transition-all duration-300","aria-label":"GitHub Profile",children:(0,s.jsx)(m.A,{className:"w-4 h-4"})}),(0,s.jsx)("a",{href:"https://linkedin.com/company/thmanyah",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center bg-[#2a2b3d]/80 backdrop-blur-sm shadow-lg border border-[#3a3b4d]/50 text-gray-300 hover:text-blue-400 hover:bg-[#3a3b4d] hover:scale-110 hover:shadow-xl transition-all duration-300","aria-label":"LinkedIn Profile",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),(0,s.jsx)("a",{href:"https://twitter.com/thmanyah",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center bg-[#2a2b3d]/80 backdrop-blur-sm shadow-lg border border-[#3a3b4d]/50 text-gray-300 hover:text-blue-400 hover:bg-[#3a3b4d] hover:scale-110 hover:shadow-xl transition-all duration-300","aria-label":"Twitter Profile",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})})]})})})]})}},8338:(e,r,t)=>{"use strict";t.d(r,{SearchBar:()=>c});var s=t(5155),a=t(2115),l=t(5695),n=t(3974),o=t(7924),d=t(4416);function c(e){let{initialQuery:r=""}=e,t=(0,l.useRouter)(),[c,i]=(0,a.useState)(r),m=(0,n.YQ)(e=>{e.trim()?t.push("/search?q=".concat(encodeURIComponent(e.trim()))):t.push("/search")},300),h=(0,a.useRef)(null),[x,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{r&&h.current&&h.current.focus()},[r]),(0,s.jsx)("div",{className:"md:w-full max-w-2xl mx-auto px-4 sm:px-6 md:px-0 md:mr-0 mr-12",children:(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),c.trim()&&t.push("/search?q=".concat(encodeURIComponent(c.trim())))},children:(0,s.jsxs)("div",{className:"relative flex items-center overflow-hidden rounded-xl border ".concat(x?"border-[#3b82f6] shadow-lg ring-2 ring-[#3b82f6]/20":"border-[#2a2b3d] shadow-md"," bg-[#1e1f30] transition-all duration-300"),children:[(0,s.jsx)("div",{className:"absolute right-4 text-muted-foreground",children:(0,s.jsx)(o.A,{className:"w-5 h-5"})}),(0,s.jsx)("input",{ref:h,type:"text",value:c,onChange:e=>{let r=e.target.value;i(r),m(r)},onFocus:()=>u(!0),onBlur:()=>u(!1),placeholder:"البحث عن قنوات البودكاست",className:"h-12 sm:h-14 w-full bg-transparent px-4 pr-12 py-2 text-base sm:text-lg text-foreground placeholder:text-muted-foreground focus:outline-none transition-all duration-300",dir:"rtl"}),c&&(0,s.jsx)("button",{type:"button",onClick:()=>{i(""),t.push("/search"),h.current&&h.current.focus()},className:"absolute left-3 p-1.5 rounded-full bg-[#2a2b3d] hover:bg-[#3a3b4d] text-muted-foreground hover:text-white transition-all duration-300 transform hover:scale-110","aria-label":"Clear search",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})]})})})}}},e=>{e.O(0,[577,766,441,964,358],()=>e(e.s=3361)),_N_E=e.O()}]);